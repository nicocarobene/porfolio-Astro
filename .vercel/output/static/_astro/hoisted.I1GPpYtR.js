import"./hoisted.l-JsOPk0.js";const r=document.querySelector("#contact-form"),t=document.querySelector("#toastFail");function l({name:e,email:n,message:s}){const o=e.toString().trim(),i=n.toString().trim(),a=s.toString().trim();return!(!o||!i||!a)}function d(e){if(console.log(e),e){const n=t.innerHTML;t.innerHTML="Please fill out all fields",t?.classList.remove("hidden"),setTimeout(()=>{t?.classList.add("hidden"),t.innerHTML=n},3e3);return}t?.classList.remove("hidden"),setTimeout(()=>{t?.classList.add("hidden")},3e3)}r?.addEventListener("submit",e=>{e.preventDefault();const n=new FormData(r),{name:s,email:o,message:i}=Object.fromEntries(n);if(!l({name:s,email:o,message:i})){d(!0);return}fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,email:o,message:i})}).then(m=>{if(!m.ok)throw d(),new Error("Failed to send message");const c=document.querySelector("#toastSuccess");c?.classList.remove("hidden"),setTimeout(()=>{c?.classList.add("hidden")},3e3)}),r.reset()});
